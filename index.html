<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>사케를 보다 (Sake View) - 나만의 사케 테이스팅 노트</title>

    <!-- SEO Meta Tags -->
    <meta name="description" content="사케를 보다는 사케 애호가를 위한 테이스팅 노트 서비스입니다. 색감, 향, 맛을 체계적으로 기록하고 나만의 사케 컬렉션을 만들어보세요. 사케 종류, 용어사전, 테이스팅 가이드까지 제공합니다.">
    <meta name="keywords" content="사케, 일본술, 테이스팅, 테이스팅노트, 니혼슈, 준마이, 긴조, 다이긴조, 사케추천, 사케가이드, sake, nihonshu, tasting note, japanese sake">
    <meta name="author" content="Sake View Team">
    <meta name="robots" content="index, follow">
    <meta name="language" content="Korean">
    <meta name="revisit-after" content="7 days">
    <link rel="canonical" href="https://sakeview.pages.dev/">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://sakeview.pages.dev/">
    <meta property="og:title" content="사케를 보다 (Sake View) - 나만의 사케 테이스팅 노트">
    <meta property="og:description" content="사케 애호가를 위한 테이스팅 노트 서비스. 색감, 향, 맛을 체계적으로 기록하고 나만의 사케 컬렉션을 만들어보세요.">
    <meta property="og:image" content="https://sakeview.pages.dev/og-image.png">
    <meta property="og:locale" content="ko_KR">
    <meta property="og:site_name" content="사케를 보다">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://sakeview.pages.dev/">
    <meta name="twitter:title" content="사케를 보다 (Sake View) - 나만의 사케 테이스팅 노트">
    <meta name="twitter:description" content="사케 애호가를 위한 테이스팅 노트 서비스. 색감, 향, 맛을 체계적으로 기록하세요.">
    <meta name="twitter:image" content="https://sakeview.pages.dev/og-image.png">

    <!-- Additional SEO -->
    <meta name="theme-color" content="#383961">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="사케를 보다">

    <!-- PWA -->
    <link rel="manifest" href="/manifest.json">
    <link rel="icon" type="image/svg+xml" href="/icon.svg">
    <link rel="icon" type="image/png" sizes="96x96" href="/icons/icon-96x96.png">
    <link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png">

    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "사케를 보다 (Sake View)",
        "description": "사케 애호가를 위한 테이스팅 노트 서비스",
        "url": "https://sakeview.pages.dev/",
        "applicationCategory": "LifestyleApplication",
        "operatingSystem": "Web",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "KRW"
        },
        "author": {
            "@type": "Organization",
            "name": "Sake View Team"
        }
    }
    </script>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="sake_database.js"></script>
    <script src="tasting_dictionary.js"></script>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#383961",
                        "accent": "#DBDFAC",
                    },
                    fontFamily: {
                        "display": ["Inter", "Pretendard", "sans-serif"]
                    },
                },
            },
        }
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Noto+Serif+KR:wght@400;500;700;900&family=Pretendard:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css?v=11">
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1907306190071217"
         crossorigin="anonymous"></script>
</head>
<body>
    <!-- Age Verification Modal -->
    <div class="age-modal-overlay" id="ageModal">
        <div class="age-modal">
            <div class="age-modal-icon">🍶</div>
            <h2>연령 확인</h2>
            <p>
                본 사이트는 주류(사케)에 관한 정보를 제공합니다.<br>
                만 19세 이상만 이용할 수 있습니다.<br><br>
                <strong>만 19세 이상이십니까?</strong>
            </p>
            <div class="age-modal-buttons">
                <button class="age-btn age-btn-yes" onclick="confirmAge(true)">네, 19세 이상입니다</button>
                <button class="age-btn age-btn-no" onclick="confirmAge(false)">아니오</button>
            </div>
            <div class="age-modal-warning">
                청소년보호법에 따라 만 19세 미만에게는<br>주류 판매 및 관련 정보 제공이 제한됩니다.
            </div>
        </div>
    </div>

    <!-- Cookie Consent Banner -->
    <div class="cookie-consent" id="cookieConsent">
        <div class="cookie-consent-content">
            <div class="cookie-consent-text">
                🍪 사케를 보다는 더 나은 서비스 제공을 위해 쿠키를 사용합니다.
                사이트 이용 시 쿠키 사용에 동의하게 됩니다.
                <a href="javascript:void(0)" onclick="showPolicyPage('privacy')">개인정보처리방침</a>에서 자세한 내용을 확인하세요.
            </div>
            <div class="cookie-consent-buttons">
                <button class="cookie-btn cookie-btn-accept" onclick="acceptCookies()">동의</button>
                <button class="cookie-btn cookie-btn-decline" onclick="declineCookies()">거부</button>
            </div>
        </div>
    </div>

    <div class="container">
        <!-- Auth Container (로그인/회원가입) -->
        <div id="authContainer" class="auth-container" style="display: none;">
            <h2 class="auth-title">사케를 보다</h2>

            <!-- 로그인 폼 -->
            <div id="loginForm">
                <form class="auth-form" onsubmit="handleLogin(event)">
                    <input type="email" class="auth-input" id="loginEmail" placeholder="이메일 주소" required>
                    <input type="password" class="auth-input" id="loginPassword" placeholder="비밀번호" required>
                    <button type="submit" class="auth-btn" id="loginSubmitBtn"><span class="spinner"></span><span class="btn-text">로그인</span></button>
                    <div id="loginError" class="auth-error"></div>
                </form>
                <div class="auth-switch">
                    계정이 없으신가요? <a onclick="showSignup()">회원가입</a>
                </div>
                <div class="auth-footer-links">
                    <a href="javascript:void(0)" onclick="showPolicyPage('about')">소개</a>
                    <a href="javascript:void(0)" onclick="showPolicyPage('guide')">사케 가이드</a>
                    <a href="javascript:void(0)" onclick="showPolicyPage('privacy')">개인정보처리방침</a>
                    <a href="javascript:void(0)" onclick="showPolicyPage('terms')">이용약관</a>
                </div>
            </div>

            <!-- 회원가입 폼 -->
            <div id="signupForm" style="display: none;">
                <form class="auth-form" onsubmit="handleSignup(event)">
                    <input type="email" class="auth-input" id="signupEmail" placeholder="이메일 주소" required>
                    <input type="password" class="auth-input" id="signupPassword" placeholder="비밀번호 (최소 6자)" required minlength="6">
                    <input type="password" class="auth-input" id="signupPasswordConfirm" placeholder="비밀번호 확인" required minlength="6">
                    <button type="submit" class="auth-btn" id="signupSubmitBtn"><span class="spinner"></span><span class="btn-text">회원가입</span></button>
                    <div id="signupError" class="auth-error"></div>
                </form>
                <div class="auth-switch">
                    이미 계정이 있으신가요? <a onclick="showLogin()">로그인</a>
                </div>
                <div class="auth-footer-links">
                    <a href="javascript:void(0)" onclick="showPolicyPage('about')">소개</a>
                    <a href="javascript:void(0)" onclick="showPolicyPage('guide')">사케 가이드</a>
                    <a href="javascript:void(0)" onclick="showPolicyPage('privacy')">개인정보처리방침</a>
                    <a href="javascript:void(0)" onclick="showPolicyPage('terms')">이용약관</a>
                </div>
            </div>
        </div>

        <!-- 이메일 인증 안내 팝업 -->
        <div class="verification-modal" id="verificationModal" style="display: none;">
            <div class="verification-modal-content">
                <div class="verification-modal-icon">📧</div>
                <h2>이메일 인증이 필요합니다</h2>
                <p>입력하신 이메일 주소로 인증 메일을 발송했습니다.<br><strong>이메일 인증 후 로그인해주세요.</strong></p>
                <button onclick="closeVerificationModal()">확인</button>
            </div>
        </div>

        <!-- Main App -->
        <div id="mainApp">
            <div class="header">
                <div class="header-inner">
                    <div class="header-left">
                        <div class="header-logo">
                            <img src="icon.svg" alt="사케를 보다 로고">
                        </div>
                        <h1>사케를 보다</h1>
                    </div>
                    <div class="header-right">
                        <button class="theme-toggle" id="themeToggle" onclick="toggleTheme()" title="테마 전환">
                            <span class="material-symbols-outlined" id="themeIcon" style="font-size:20px;">light_mode</span>
                        </button>
                        <div class="user-info" id="userInfoSection">
                            <span id="userEmail" style="display: none;"></span>
                            <button class="logout-btn" id="logoutBtn" onclick="handleLogout()" style="display: none;">로그아웃</button>
                            <button class="login-btn header-avatar" id="loginBtn" onclick="showAuthContainer()">
                                <span class="material-symbols-outlined" style="font-size:18px;">person</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Top Navigation -->
            <div class="top-nav" id="topNav">
                <div class="top-nav-section">
                    <h4 class="top-nav-title">서비스</h4>
                    <div class="top-nav-dropdown">
                        <a href="javascript:void(0)" onclick="showPolicyPage('about')" class="top-nav-link">소개</a>
                        <a href="javascript:void(0)" onclick="showPolicyPage('howto')" class="top-nav-link">사용법 가이드</a>
                        <a href="javascript:void(0)" onclick="showPolicyPage('contact')" class="top-nav-link">문의하기</a>
                    </div>
                </div>
                <div class="top-nav-section">
                    <h4 class="top-nav-title">사케 가이드</h4>
                    <div class="top-nav-dropdown">
                        <a href="javascript:void(0)" onclick="showPolicyPage('guide')" class="top-nav-link">사케 종류</a>
                        <a href="javascript:void(0)" onclick="showPolicyPage('regions')" class="top-nav-link">지역별 사케</a>
                        <a href="javascript:void(0)" onclick="showPolicyPage('brewing')" class="top-nav-link">양조 과정</a>
                        <a href="javascript:void(0)" onclick="showPolicyPage('etiquette')" class="top-nav-link">사케 에티켓</a>
                        <a href="javascript:void(0)" onclick="showPolicyPage('recommendations')" class="top-nav-link">추천 사케</a>
                        <a href="javascript:void(0)" onclick="showPolicyPage('glossary')" class="top-nav-link">용어사전</a>
                        <a href="javascript:void(0)" onclick="showPolicyPage('faq')" class="top-nav-link">자주 묻는 질문</a>
                    </div>
                </div>
                <div class="top-nav-section">
                    <h4 class="top-nav-title">키키자케시</h4>
                    <div class="top-nav-dropdown">
                        <a href="javascript:void(0)" onclick="showPolicyPage('kikizakeshi')" class="top-nav-link">키키자케시란?</a>
                    </div>
                </div>
                <div class="top-nav-section">
                    <h4 class="top-nav-title">법적 고지</h4>
                    <div class="top-nav-dropdown">
                        <a href="javascript:void(0)" onclick="showPolicyPage('privacy')" class="top-nav-link">개인정보처리방침</a>
                        <a href="javascript:void(0)" onclick="showPolicyPage('terms')" class="top-nav-link">이용약관</a>
                    </div>
                </div>
            </div>

            <div class="main-content-area">
            <!-- Featured Hero Card (Stitch Style) -->
            <section class="stitch-hero" id="featuredSection">
                <div class="featured-hero-card">
                    <div class="featured-hero-overlay"></div>
                    <img id="featuredImage" src="" alt="추천 사케" class="featured-hero-image">
                    <div class="placeholder" style="display:none;">🍶</div>
                    <div class="stitch-hero-text">
                        <span class="featured-label">이번 주의 추천</span>
                        <div class="featured-title" id="featuredTitle"></div>
                        <div class="featured-desc" id="featuredDesc"></div>
                        <div class="featured-meta" id="featuredMeta"></div>
                        <div class="featured-hero-actions">
                            <button class="featured-close-btn" onclick="hideFeatured()">닫기</button>
                            <button class="featured-dismiss-btn" onclick="hideFeaturedToday()">오늘 그만보기</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Dashboard Grid Layout -->
            <div class="dashboard-grid">

            <!-- Left Column: Main Content -->
            <div class="dashboard-main">

            <div class="tabs">
                <button class="tab active" onclick="switchTab('community')">커뮤니티</button>
                <button class="tab" onclick="switchTab('new')">새 노트 작성</button>
                <button class="tab" onclick="switchTab('list')">나의 노트</button>
            </div>

            <div class="content">
                <!-- 새 노트 작성 -->
                <div id="newView" class="view">
                    <div class="content-card-header">
                        <span class="material-symbols-outlined">add_circle</span>
                        새 노트 작성
                    </div>
                    <form id="tastingForm" onsubmit="saveTastingNote(event)">
                        <div class="form-row-2col">
                            <div class="form-group">
                                <label>사케 이름 *</label>
                            </div>
                            <div class="form-group">
                                <label>날짜 *</label>
                                <input type="date" id="date" required>
                            </div>
                        </div>

                        <div class="form-group">
                            <label style="display:none;">사케 이름 *</label>
                            <div class="sake-selector">
                                <div class="sake-selector-tabs">
                                    <button type="button" class="sake-selector-tab active" onclick="toggleSakeInputMode('db')">DB에서 선택</button>
                                    <button type="button" class="sake-selector-tab" onclick="toggleSakeInputMode('manual')">직접 입력</button>
                                </div>
                                <div id="sakeDbPanel" class="sake-selector-panel active">
                                    <button type="button" class="sake-ocr-btn" onclick="openOcrModal()">📷 사진으로 찾기</button>
                                    <input type="text" class="sake-search-input" id="brandSearch" placeholder="브랜드명 검색..." oninput="filterBrands(this.value)">
                                    <div class="sake-lists-container">
                                        <div class="sake-list" id="brandList">
                                            <div class="sake-list-header">브랜드 (155)</div>
                                        </div>
                                        <div class="sake-list" id="productList">
                                            <div class="sake-list-header">제품</div>
                                            <div class="sake-product-empty">브랜드를 선택하세요</div>
                                        </div>
                                    </div>
                                    <div class="sake-selected-display" id="sakeSelectedDisplay">
                                        <div>
                                            <div class="selected-text" id="sakeSelectedText"></div>
                                            <div class="selected-sub" id="sakeSelectedSub"></div>
                                        </div>
                                        <button type="button" class="clear-btn" onclick="clearSakeSelection()" title="선택 해제">&times;</button>
                                    </div>
                                </div>
                                <div id="sakeManualPanel" class="sake-selector-panel">
                                    <input type="text" id="sakeNameManual" placeholder="예: 獺祭 純米大吟醸">
                                </div>
                                <input type="hidden" id="sakeName">
                            </div>
                        </div>

                        <div class="form-group">
                            <label>사케 사진</label>
                            <div class="photo-upload" onclick="document.getElementById('photoInput').click()">
                                <input type="file" id="photoInput" accept="image/*" onchange="handlePhotoUpload(event)">
                                <div id="uploadText"><span class="material-symbols-outlined upload-icon">add_a_photo</span>사진을 업로드하세요</div>
                                <div id="photoPreview" class="photo-preview"></div>
                            </div>
                        </div>

                        <!-- 테이스팅 노트 (태그 기반) -->
                        <div class="section-title section-title-flex">
                            <span>테이스팅 노트</span>
                        </div>

                        <div class="tasting-category-tabs" id="tastingCategoryTabs"></div>

                        <div id="tastingPanels"></div>

                        <div class="tasting-selected-summary" id="tastingSelectedSummary">
                            <div class="summary-label">선택한 표현</div>
                            <div class="summary-tags" id="tastingSummaryTags">
                                <span class="summary-empty">태그를 선택해주세요</span>
                            </div>
                        </div>

                        <div class="section-title" style="margin-top:24px;">개인적인 감상평</div>

                        <div class="form-group">
                            <textarea id="personal_review" placeholder="이 사케에 대한 개인적인 생각을 자유롭게 작성하세요" rows="3"></textarea>
                        </div>

                        <div class="section-title">종합 평점</div>

                        <div class="form-group">
                            <label>이 사케에 몇 점을 주시겠어요?</label>
                            <div class="rating-item rating-item-centered">
                                <div class="rating-scale-10">
                                    <label><input type="radio" name="overall_rating" value="1"> 1</label>
                                    <label><input type="radio" name="overall_rating" value="2"> 2</label>
                                    <label><input type="radio" name="overall_rating" value="3"> 3</label>
                                    <label><input type="radio" name="overall_rating" value="4"> 4</label>
                                    <label><input type="radio" name="overall_rating" value="5" checked> 5</label>
                                    <label><input type="radio" name="overall_rating" value="6"> 6</label>
                                    <label><input type="radio" name="overall_rating" value="7"> 7</label>
                                    <label><input type="radio" name="overall_rating" value="8"> 8</label>
                                    <label><input type="radio" name="overall_rating" value="9"> 9</label>
                                    <label><input type="radio" name="overall_rating" value="10"> 10</label>
                                </div>
                                <div class="info-text">1: 다시는 안 마심 → 10: 인생 사케!</div>
                            </div>
                        </div>

                        <button type="submit" class="btn btn-primary" id="submitBtn">노트 저장</button>
                    </form>
                </div>

                <!-- 저장된 노트 목록 -->
                <div id="listView" class="view">
                    <div class="list-view-header">
                        <div class="content-card-header content-card-header-flush">
                            <span class="material-symbols-outlined">menu_book</span>
                            나의 노트
                        </div>
                        <button class="list-view-home-btn" onclick="switchTab('new')">
                            <span class="material-symbols-outlined" style="font-size:18px;">home</span> 홈
                        </button>
                    </div>
                    <div id="notesList"></div>
                </div>

                <!-- 커뮤니티 뷰 -->
                <div id="communityView" class="view active">
                    <div class="community-stats-row">
                        <div class="community-stat-card">
                            <span class="community-stat-label">총 노트 수</span>
                            <span class="community-stat-value" id="communityTotalNotes">—</span>
                            <span class="community-stat-sub green" id="communityNotesGrowth"></span>
                        </div>
                        <div class="community-stat-card">
                            <span class="community-stat-label">활성 유저</span>
                            <span class="community-stat-value" id="communityActiveUsers">—</span>
                            <span class="community-stat-sub green" id="communityUsersGrowth"></span>
                        </div>
                        <div class="community-stat-card">
                            <span class="community-stat-label">사케 DB</span>
                            <span class="community-stat-value" id="communitySakeDb">—</span>
                        </div>
                    </div>
                    <div class="community-grid">
                        <div class="community-feed-section">
                            <div class="community-feed-header">
                                <h3>New Tasting Notes</h3>
                                <button class="community-view-all-btn" onclick="loadCommunityFeed()">View All</button>
                            </div>
                            <div id="communityFeedList">
                                <div class="loading">커뮤니티 노트를 불러오는 중</div>
                            </div>
                        </div>
                        <div class="community-sidebar">
                            <h3 class="community-sidebar-title">Search Database</h3>
                            <div class="community-search-wrap">
                                <span class="material-symbols-outlined community-search-icon">search</span>
                                <input type="text" id="communitySearchInput" placeholder="사케 이름으로 검색..." oninput="searchCommunityNotes(this.value)">
                            </div>
                            <div id="communitySearchResults"></div>
                            <h4 class="community-sidebar-subtitle">Top Rated Categories</h4>
                            <div class="community-categories">
                                <button onclick="filterCommunityByGrade('純米大吟醸')">Junmai Daiginjo <span>›</span></button>
                                <button onclick="filterCommunityByGrade('山廃')">Yamahai / Kimoto <span>›</span></button>
                                <button onclick="filterCommunityByGrade('にごり')">Nigori / Sparkling <span>›</span></button>
                            </div>
                            <div class="community-cta">
                                <h4>Write a Note</h4>
                                <p>나만의 테이스팅 경험을 커뮤니티와 공유하세요.</p>
                                <button onclick="switchTab('new')">+ New Note</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 상세 보기 -->
                <div id="detailView" class="view">
                    <button class="back-btn" onclick="switchTab('list')">← 목록으로</button>
                    <div id="detailContent"></div>
                </div>
            </div>
            </div><!-- /dashboard-main -->

            <!-- Right Sidebar -->
            <div class="dashboard-sidebar">
                <!-- Your Progress -->
                <div class="sidebar-card">
                    <h4 class="sidebar-card-title">나의 기록</h4>
                    <div class="sidebar-stat-row">
                        <span class="sidebar-stat-label">총 리뷰</span>
                        <span id="sidebarTotalCount" class="sidebar-stat-value">0</span>
                    </div>
                    <div class="sidebar-stat-row">
                        <span class="sidebar-stat-label">이번 달</span>
                        <span id="sidebarMonthCount" class="sidebar-stat-value-accent">0</span>
                    </div>
                    <div class="sidebar-progress-bg">
                        <div id="sidebarProgressBar" class="sidebar-progress-bar"></div>
                    </div>
                    <p class="sidebar-hint">월간 목표를 향해 화이팅!</p>
                </div>

                <!-- Recent Activity -->
                <div class="sidebar-section">
                    <h4 class="sidebar-section-title">최근 활동</h4>
                    <div id="sidebarRecentNotes" class="sidebar-recent-list">
                        <p class="sidebar-empty-text">노트를 작성해보세요!</p>
                    </div>
                    <button class="sidebar-view-all-btn" onclick="switchTab('list')">전체 기록 보기</button>
                </div>
            </div>

            </div><!-- /dashboard-grid -->
            </div><!-- /main-content-area -->

            <!-- Footer -->
            <footer class="app-footer" id="appFooter">
                <div class="footer-content">
                    <div class="footer-info">
                        <p>사케를 보다 — 당신의 사케 테이스팅 여정을 기록하세요</p>
                        <div class="footer-contact">
                            문의: <a href="mailto:denturebur@naver.com">denturebur@naver.com</a>
                        </div>
                    </div>

                    <div class="footer-copyright">
                        © 2026 Sake View. All rights reserved.<br>
                        <span class="footer-powered-by">Powered by Supabase & Cloudflare</span>
                    </div>
                </div>
            </footer>

        </div>
    </div>

    <!-- 정책 페이지 (전체화면 오버레이) -->
    <div id="policyView" class="policy-view-overlay" style="display:none;">
        <div class="policy-view-inner">
            <div class="policy-view-back">
                <button class="back-btn" id="policyBackBtn">← 돌아가기</button>
            </div>
            <div id="policyContent"></div>
        </div>
    </div>

    <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script>
    <script src="policy_pages.js?v=11"></script>
    <script src="app.js?v=11"></script>


    <!-- OCR Modal -->
    <div class="ocr-modal" id="ocrModal">
        <div class="ocr-modal-content">
            <div class="ocr-modal-header">
                <h3>📷 사진으로 사케 찾기</h3>
                <button class="ocr-modal-close" onclick="closeOcrModal()">&times;</button>
            </div>

            <input type="file" id="ocrFileInput" accept="image/*" style="display:none;" onchange="handleOcrPhoto(event)">
            <div class="ocr-photo-area" id="ocrPhotoArea" onclick="document.getElementById('ocrFileInput').click()">
                <div class="ocr-photo-placeholder" id="ocrPlaceholder">
                    <span class="ocr-photo-icon">📸</span>
                    사케 라벨 사진을 선택하세요
                </div>
                <img id="ocrPreviewImg" style="display:none;" alt="사케 라벨">
            </div>

            <div class="ocr-method-toggle">
                <input type="radio" name="ocrMethod" id="ocrMethodTesseract" value="tesseract" checked onchange="selectOcrMethod('tesseract')" style="display:none;">
                <label for="ocrMethodTesseract" class="ocr-method-btn active">🔍 OCR 인식</label>
                <input type="radio" name="ocrMethod" id="ocrMethodAi" value="ai" onchange="selectOcrMethod('ai')" style="display:none;">
                <label for="ocrMethodAi" class="ocr-method-btn">🤖 AI Vision</label>
            </div>

            <button type="button" class="ocr-start-btn" id="ocrStartBtn" onclick="startOcrRecognition()" disabled>인식 시작</button>

            <div class="ocr-progress" id="ocrProgress">
                <div class="ocr-progress-bar-bg">
                    <div class="ocr-progress-bar" id="ocrProgressBar"></div>
                </div>
                <div class="ocr-progress-text" id="ocrProgressText">준비 중...</div>
            </div>

            <div class="ocr-results" id="ocrResults">
                <div class="ocr-results-title">매칭 결과</div>
                <div id="ocrMatchList"></div>
                <div class="ocr-raw-text">
                    <button type="button" class="ocr-raw-toggle" onclick="toggleOcrRawText()">▶ 인식된 원본 텍스트 보기</button>
                    <div class="ocr-raw-content" id="ocrRawContent"></div>
                </div>
                <button type="button" class="ocr-manual-btn" onclick="closeOcrModal(); toggleSakeInputMode('manual');">직접 입력으로 전환</button>
            </div>
        </div>
    </div>

    <script>
    if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('/service-worker.js');
    }
    </script>
<script defer src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon='{"version":"2024.11.0","token":"c268f029452b4c718cfc112352f6ff95","r":1,"server_timing":{"name":{"cfCacheStatus":true,"cfEdge":true,"cfExtPri":true,"cfL4":true,"cfOrigin":true,"cfSpeedBrain":true},"location_startswith":null}}' crossorigin="anonymous"></script>
</body>
</html>